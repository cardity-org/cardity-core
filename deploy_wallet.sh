#!/bin/bash
# Dogecoin Protocol Deployment Script
# Generated by Cardity Core

ADDRESS="doge1deploy789"
PRIVATE_KEY="deploykey456"
AMOUNT=5000

# OP_RETURN 数据
OP_RETURN_DATA="6a3414352414301000000060000000e0000000400000007000000410300000600000077616c6c65740e000000646f67653177616c6c65743435360700000062616c616e636503000000696e7401000000300900000069735f6c6f636b656404000000626f6f6c0500000066616c73650d0000006f776e65725f6164647265737306000000737472696e670e000000646f67653177616c6c6574343536110000007472616e73616374696f6e5f636f756e7403000000696e740100000030070000006465706f7369740100000006000000616d6f756e748e00000069662028207374617465202e2069735f6c6f636b6564203d3d2066616c73652029207b207374617465202e2062616c616e6365203d207374617465202e2062616c616e6365202b20616d6f756e74203b207374617465202e207472616e73616374696f6e5f636f756e74203d207374617465202e207472616e73616374696f6e5f636f756e74202b2031203b207d0b0000006765745f62616c616e6365000000001800000072657475726e207374617465202e2062616c616e6365203b090000006765745f6f776e6572000000001e00000072657475726e207374617465202e206f776e65725f61646472657373203b150000006765745f7472616e73616374696f6e5f636f756e74000000002200000072657475726e207374617465202e207472616e73616374696f6e5f636f756e74203b0b0000006c6f636b5f77616c6c6574000000001a0000007374617465202e2069735f6c6f636b6564203d2074727565203b0d000000756e6c6f636b5f77616c6c6574000000001b0000007374617465202e2069735f6c6f636b6564203d2066616c7365203b0800000077697468647261770100000006000000616d6f756e74b300000069662028207374617465202e2069735f6c6f636b6564203d3d2066616c73652029207b2069662028207374617465202e2062616c616e6365203e3d20616d6f756e742029207b207374617465202e2062616c616e6365203d207374617465202e2062616c616e6365202d20616d6f756e74203b207374617465202e207472616e73616374696f6e5f636f756e74203d207374617465202e207472616e73616374696f6e5f636f756e74202b2031203b207d207d"

# 创建原始交易
dogecoin-cli createrawtransaction \
  '[{"txid":"<input_txid>","vout":0}]' \
  '[{"data":"$OP_RETURN_DATA"},{"$ADDRESS":$AMOUNT}]'

# 签名交易
dogecoin-cli signrawtransaction <raw_tx> '[{"txid":"<input_txid>","vout":0,"scriptPubKey":"<script_pubkey>","redeemScript":""}]' '["$PRIVATE_KEY"]'

# 发送交易
dogecoin-cli sendrawtransaction <signed_tx>
